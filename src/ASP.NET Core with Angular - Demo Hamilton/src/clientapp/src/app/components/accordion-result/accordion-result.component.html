<!--Header-->
<div class="custom-margin-bt">
  <ngb-accordion #a="ngbAccordion">
    <ngb-panel id="header_{{accordionResult.id}}">
      <ng-template ngbPanelHeader>
        <div class="result-header">
          <div class="title-result">
            <i class="fas fa-directions"></i>
            <div class="title-text">
              <h6>{{accordionResult.title}}</h6>
              <span class="line">{{accordionResult.shotDescription}}</span>
            </div>
          </div>
          <button ngbPanelToggle class="btn btn-link p-0 btn-detail" data-toggle="tooltip" data-placement="top" [title]='accordionResult.description' >Chi tiết</button>
        </div>
      </ng-template>
      <ng-template ngbPanelContent>
        <!--Body level 1-->
        <div *ngFor="let childAccordionResultLv1 of accordionResult.childAccordionResults">
          <div class="custom-margin">
            <ngb-accordion #a="ngbAccordion">z
              <ngb-panel id="body_level_1_{{accordionResult.id}}">
                <ng-template ngbPanelHeader>
                  <div class="d-flex justify-content-between">
                    <i class="fas fa-car icon-car"></i>
                    <div class="title-text">
                      <h6 class="m-1 title-text-h6">{{childAccordionResultLv1.origin}} | {{childAccordionResultLv1.destination}}
                      </h6>
                      <p class="mt-1">{{childAccordionResultLv1.description}}</p>
                      <span class="line">{{childAccordionResultLv1.shotDescription}}</span>
                    </div>
                    <button ngbPanelToggle class="btn btn-link p-0 btn-detail"
                      (click)="eventClick(childAccordionResultLv1.origin, childAccordionResultLv1.destination, accordionResult.id, childAccordionResultLv1.id)">Chi tiết</button>
                  </div>
                </ng-template>
                <ng-template ngbPanelContent>
                  <!--Body-level-2-->
                  <ngb-accordion #a="ngbAccordion">
                    <ngb-panel id="body_level_2_{{childAccordionResultLv1.id}}">
                      <ng-template ngbPanelHeader>
                        <div class="scroll-card">
                          <h6>{{childAccordionResultLv1.origin}}</h6>
                          <div *ngFor="let childAccordionResultLv2 of childAccordionResultLv1.childAccordionResults">
                            <div class="detail-lv3">
                              <i class="fas fa-chevron-right"></i>
                              <div class="detail-lv3-text">
                                <p [innerHtml]="childAccordionResultLv2.description">
                                </p>
                                <span class="line-2">{{childAccordionResultLv2.shotDescription}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="">
                          <h6>{{childAccordionResultLv1.destination}}</h6>
                        </div>
                      </ng-template>
                    </ngb-panel>
                  </ngb-accordion>
                  <!-- </div> -->
                </ng-template>
              </ngb-panel>
            </ngb-accordion>
          </div>
        </div>
      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</div>